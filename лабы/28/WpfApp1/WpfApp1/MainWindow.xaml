<Window x:Class="WpfInkCanvasExample.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="InkCanvas with Single ToolBar" Height="450" Width="600">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Единая панель инструментов со всеми функциями -->
        <ToolBar Grid.Row="0">
            <!-- Секция режимов -->
            <Label Content="" FontWeight="Bold"/>
            <RadioButton x:Name="inkRadio" Content="Ink Mode" GroupName="EditMode" Checked="RadioButtonClicked" Margin="5,0"/>
            <RadioButton Content="Erase Mode" GroupName="EditMode" Checked="RadioButtonClicked" Margin="5,0"/>
            <RadioButton Content="Select Mode" GroupName="EditMode" Checked="RadioButtonClicked" Margin="5,0"/>

            <Separator/>

            <!-- Секция цветов -->
            <Label Content="" FontWeight="Bold"/>
            <ComboBox x:Name="colorComboBox" Width="80" SelectedIndex="0" Margin="5,0">
                <ComboBoxItem>Black</ComboBoxItem>
                <ComboBoxItem>Red</ComboBoxItem>
                <ComboBoxItem>Green</ComboBoxItem>
                <ComboBoxItem>Blue</ComboBoxItem>
            </ComboBox>

            <Separator/>

            <!-- Секция управления данными -->
            <Label Content="" FontWeight="Bold"/>
            <Button Content="Save Data" Click="SaveData_Click" Margin="5,0"/>
            <Button Content="Load Data" Click="LoadData_Click" Margin="5,0"/>
            <Button Content="Clear" Click="Clear_Click" Margin="5,0"/>
        </ToolBar>

        <!-- Область рисования -->
        <InkCanvas x:Name="MyInkCanvas" Grid.Row="1" Background="#FFB6F4F1"/>
    </Grid>
</Window>